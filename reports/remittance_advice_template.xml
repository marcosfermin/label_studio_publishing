<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <template id="remittance_advice_template">
        <t t-call="web.html_container">
            <t t-foreach="docs" t-as="payment">
                <div class="page">
                    <h2>Royalty Payment Remittance</h2>
                    <p><strong>Payment:</strong> <span t-esc="payment.name"/></p>
                    <p><strong>Date:</strong> <span t-esc="format_date(payment.payment_date)"/></p>
                    <p><strong>Recipient:</strong> <span t-esc="payment.partner_id.display_name"/></p>
                    <p><strong>Total Amount:</strong> <span t-esc="format_amount(payment.amount_total, payment.currency_id)"/></p>
                    <table class="table table-sm table-bordered">
                        <thead>
                            <tr>
                                <th>Statement</th>
                                <th>Period</th>
                                <th class="text-end">Amount</th>
                            </tr>
                        </thead>
                        <tbody>
                            <tr t-foreach="payment.line_ids" t-as="line">
                                <td><span t-esc="line.statement_id.name"/></td>
                                <td>
                                    <span t-esc="format_date(line.statement_id.period_start)"/>
                                    -
                                    <span t-esc="format_date(line.statement_id.period_end)"/>
                                </td>
                                <td class="text-end"><span t-esc="format_amount(line.amount, payment.currency_id)"/></td>
                            </tr>
                        </tbody>
                    </table>
                    <p><strong>Memo:</strong> <span t-esc="payment.memo or ''"/></p>
                </div>
            </t>
        </t>
    </template>

    <report
        id="action_remittance_advice"
        model="royalty.payment"
        string="Remittance Advice"
        report_type="qweb-pdf"
        name="label_studio_publishing.remittance_advice_template"
        file="label_studio_publishing.remittance_advice_template"
    />
</odoo>
